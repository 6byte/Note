## 常量池

概览

```
种类:
	全局字符串池,class文件常量池,运行时常量池
关系:
	
```

### 全局字符串池

```
时机:经过类加载，验证，准备之后
内容:引号中的字符串，final修饰的字符串
特点：
    全局字符串池	是一个StringTable类，它是哈希表
    全局字符串池	实列仅有一份，且能被全局共享
    全局字符串池	存放引用值，堆存放具体值
```

### class文件常量池

```
时机:在编译成class文件之后，生成class常量池
内容:
	--	符号引用
        类和接口的全限定名
        字段的名称和描述符
        方法的名称和描述符
```

### 运行时常量池

```
时机:类执行阶段将class常量池存放运行时常量池

由此可知，运行时常量池也是每个类都有一个。在上面我也说了，class常量池中存的是字面量和符号引用，也就是说他们存的并不是对象的实例，而是对象的符号引用值。而经过解析（resolve）之后，也就是把符号引用替换为直接引用，解析的过程会去查询全局字符串池，也就是我们上面所说的StringTable，以保证运行时常量池所引用的字符串与全局字符串池中所引用的是一致的。
```

