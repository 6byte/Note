## Vue-初始化

### Vue-框架

##### vue-Vuetify

```js
vue add vuetify
main.js添加
Vue.use(vuetify)
```

##### vue-Bootstrap

```js
cnpm install bootstrap-vue
yarn add bootstrap-vue

main.js添加

import 'bootstrap/dist/css/bootstrap.css'
import 'bootstrap-vue/dist/bootstrap-vue.css'
import { BootstrapVue, IconsPlugin,BootstrapVueIcons } from 'bootstrap-vue'

Vue.use(BootstrapVue)
Vue.use(IconsPlugin)
```

##### vue-Element

```js
cnpm i element-ui -S
yarn add element-ui


import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
import 'element-ui/lib/theme-chalk/display.css';

Vue.use(ElementUI);
```

### vue - Axios

```
cnpm install --save axios vue-axios	
yarn add axios
yarn add vue-axios

1.在main.js中


// 引用axios
import axios from 'axios'
//初始化axios
Vue.prototype.$axios = axios


在对应的<script>标签中
钩子函数mounted可能需要单独引入
import axios from 'axios'

测试
this.$ajax.get('http://v.juhe.cn/toutiao/index?type=top&key=fa71b0e59a3bcc01dad36c5d57ac8efd').then((response) => {
    console.log(response);
});	
```

配置

```JS
//含拦截器和token
import axios from 'axios';
axios.defaults.timeout = 5000;
axios.defaults.baseURL = 'http://127.0.0.1:9090'
//http request 拦截器
axios.interceptors.request.use(
    config => {
        config.headers = {
            'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',
            'token': localStorage.getItem('token') // 获取token缓存
        }
        return config;
    },
    error => {
        return Promise.reject(error);
    }
);

export default {
    /**
	 * 封装get方法
	 * @param url
	 * @param data
	 * @returns {Promise}
	 */
    get: function(url, params = {}) {
        return new Promise((resolve, reject) => {
            axios.get(url, {
                params: params
            })
                .then(response => {
                resolve(response.data);
            })
                .catch(err => {
                reject(err)
            })
        })
    },
    /**
	 * 封装post请求
	 * @param url
	 * @param data
	 * @returns {Promise}
	 */
    post: function(url, data) {
        return new Promise((resolve, reject) => {
            axios.post(url, data)
                .then(response => {
                resolve(response.data);
            }, err => {
                reject(err)
            })
        })
    }
}

```



### Vue-Animate

```
安装
cnpm install animate.css --save

使用
import animated from 'animate.css'
Vue.use(animated)
```

### Vue-Marked

安装

```
cnpm install marked --save
cnpm install highlight.js --save
```

使用

```JS
#	导入
import marked from 'marked'
import hljs from "highlight.js";

import javascript from 'highlight.js/lib/languages/javascript';

import 'highlight.js/styles/monokai-sublime.css';



#	获取数据
mounted: function() {
    //从主机下载md文件
    let host = 'http://xxx/xx.md'
    axios.get(host).then(data => {
        this.content = data.data
    })
    //配置Marked，最好配置上
    marked.setOptions({
        renderer: new marked.Renderer(),
        highlight: function(code) {
            return hljs.highlightAuto(code).value;
        },
        pedantic: false,
        gfm: true,
        tables: true,
        breaks: false,
        sanitize: false,
        smartLists: true,
        smartypants: false,
        xhtml: false
    });

}
//必须
computed: {
    Content: function() {
        //处理markdown数据，data为markdown文件读出的字符串
        return marked(this.content || '', {
            sanitize: true
        })
    }
},
#	导入样式
<style scoped>
	@import url('assets/highlight/androidstudio.css');
</style>

#	渲染页面
<div class="hljs" v-html="Content"></div>
```

### Vue-Clipboard

安装

```
cnpm install clipboard --save
npm install --save vue-clipboard2

```

引用

```
import VueClipboard from 'vue-clipboard2'
Vue.use(VueClipboard)
```

使用

```JS
<b-button 
v-clipboard:success="onCopy" 
v-clipboard:copy="targetUrl"
>
    复制</b-button>
```

### Vue-Jwt

安装

```JS
cnpm install jsonwebtoken
yarn add jsonwebtoken
//全局导入，视情况而定


import  jwt  from  'jsonwebtoken'
局部导入
let  jwt = require('jsonwebtoken');
let str =   jwt.decode(data.data) 
```

### Vue-CDN

```js
<script src="https://cdn.bootcss.com/vue/2.5.3/vue.js"></script>
<script src="https://cdn.bootcss.com/vue-router/2.7.0/vue-router.min.js"></script>
<script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script>
<link rel="stylesheet" href="https://cdn.bootcss.com/element-ui/2.4.0/theme-chalk/index.css">
    <script src="https://cdn.bootcss.com/element-ui/2.4.0/index.js"></script>
```

### Vue-Axios

##### 封装

```JS
新建http文件，复制下列内容
import axios from 'axios';
import {
	Message
} from 'element-ui';

axios.defaults.timeout = 5000;
//axios.defaults.baseURL = 'http://127.0.0.1:8090';

if (process.env.NODE_ENV == 'development') {
	axios.defaults.baseURL = 'http://127.0.0.1:8090';
}

else if (process.env.NODE_ENV == 'debug') {
    //局域网
	axios.defaults.baseURL = 'http://192.168.0.54:8090';
}

else if (process.env.NODE_ENV == 'production') {
    // 外网
	axios.defaults.baseURL = 'http://138.1.1.1:8080';
}

//http request 拦截器
axios.interceptors.request.use(
	config => {
		// const token = getCookie('名称');注意使用的时候需要引入cookie方法，推荐js-cookie
		config.data = JSON.stringify(config.data);
		config.headers = {
			'Content-Type': 'application/x-www-form-urlencoded'
		}
		// if(token){
		//   config.params = {'token':token}
		// }
		return config;
	},
	error => {return Promise.reject(err);}
);


//http response 拦截器
axios.interceptors.response.use(
	response => {
		if (response.data.errCode == 2) {
			router.push({
				path: "/login",
				querry: {
					redirect: router.currentRoute.fullPath
				} //从哪个页面跳转
			})
		}
		return response;
	},
	error => {
		return Promise.reject(error)
	}
)


/**
 * 封装get方法
 */

export function get(url, params = {}) {
	return new Promise((resolve, reject) => {
		axios.get(url, {
				params: params
			})
			.then(response => {
				resolve(response.data);
			})
			.catch(err => {
				reject(err)
			})
	})
}


/**
 * 封装post请求
 */

export function post(url, data = {}) {
	return new Promise((resolve, reject) => {
		axios.post(url, data)
			.then(response => {
				resolve(response.data);
			}, err => {
				reject(err)
			})
	})
}

/**
 * 封装patch请求
 */

export function patch(url, data = {}) {
	return new Promise((resolve, reject) => {
		axios.patch(url, data)
			.then(response => {
				resolve(response.data);
			}, err => {
				reject(err)
			})
	})
}

/**
 * 封装put请求
 */

export function put(url, data = {}) {
	return new Promise((resolve, reject) => {
		axios.put(url, data)
			.then(response => {
				resolve(response.data);
			}, err => {
				reject(err)
			})
	})
}
```

##### 使用

```JS
import {post,get,patch,put} from '@/assets/http.js'

//定义全局变量
Vue.prototype.$post = post;
Vue.prototype.$get = get;
Vue.prototype.$patch = patch;
Vue.prototype.$put = put;

```

