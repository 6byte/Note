## Mysql-高级

### Mysql-索引

概念

```
1.本质页是一张（二叉树）表
2.会占用磁盘空间
3.加快查询。但每次添加数据都会更新表,影响增删改
4.查询频率高,数据量比较大才建索引
5.在where之后的字段建立索引
```

### Mysql-存储过程

```
创建
	
调用
	
```



### Mysql-优化

````mysql
--分析当前表增删查改情况
SHOW STATUS like '%innodb_rows_%'

--定位低效率执行sql
	1.慢查询日志
	2.show processlist:查看实时SQL执行情况
	3.explain 结合上面的 show processlist分析语句
	
````

explain

```
列表解释
id:		
```





### Mysql-事务

````
原子性,一致性,隔离级别,一致性
````



| 问题 |                             现象                             |
| :--: | :----------------------------------------------------------: |
| 脏读 |          一个事务，读取到另一个事务中没有提交的数据          |
| 虚读 |              同一个事务，两次读取到的数据不一样              |
| 幻读 | 一个事务操作表，另一个事务添加数据，则第一个事务查询不到修改 |
|      |                                                              |



|       类型       |          问题          | 效率 |
| :--------------: | :--------------------: | :--: |
| read uncommitted | 脏读，不可重复度，幻读 | 最高 |
|  read committed  |    不可重复度，幻读    |  高  |
| repeatable read  |        可重复读        |  低  |
|   serializable   |     可解决所有问题     | 最低 |
|                  |                        |      |

### Mysql-三大范式

```
https://www.bilibili.com/video/BV1jb411u7dj?p=50
```







### Mysql-关键字

```
delimiter:分隔符声明
	delimiter $:将$作为结束语句

```







